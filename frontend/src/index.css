@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Dynamic Theme Variables - Controlled by JS */
    --color-primary: #738fbd;
    --color-secondary: #cc8eb1;
    --bg-gradient-start: #738fbd;
    --bg-gradient-end: #cc8eb1;

    /* Base Layout Colors */
    --theme-bg: #F8F9FD;
    --theme-card: #FFFFFF;
    --theme-text: #2D3436;
    --theme-text-secondary: #4b5563;
    --theme-border: #F3F4F6;
  }

  .dark {
    --theme-bg: #0f172a;
    --theme-card: #1e293b;
    --theme-text: #f8fafc;
    --theme-text-secondary: #94a3b8;
    --theme-border: #334155;
  }

  /* Utility class to apply the dynamic gradient or solid color */
  .bg-custom-theme {
    background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
  }

  /* Fallback for solid mode handled via JS toggling this class or just changing vars */
  .bg-custom-solid {
    background: var(--color-primary);
  }

  body {
    @apply bg-theme-bg text-theme-text font-sans antialiased transition-colors duration-300;
  }
}

@layer utilities {
  .card-soft {
    @apply bg-white dark:bg-gray-800 rounded-[24px] shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-all duration-300;
  }

  .btn-theme {
    @apply bg-theme-purple text-white rounded-xl hover:bg-theme-purple-dark transition-colors shadow-lg shadow-theme-purple/20;
  }

  .bg-noise {
    position: relative;
  }

  .bg-noise::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 50;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    mix-blend-mode: overlay;
  }
}

.glass {
  @apply bg-white/70 dark:bg-gray-900/70 backdrop-blur-xl border border-white/20 dark:border-white/10 shadow-lg;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb {
  background: #475569;
}

::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* Living Gradient Text */
.background-animate {
  background-size: 400%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.animate-gradient-x {
  animation: gradient-x 15s ease infinite;
}

@keyframes gradient-x {

  0%,
  100% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }
}

.material-symbols-rounded {
  font-variation-settings:
  'FILL' 1,
  'wght' 400,
  'GRAD' 0,
  'opsz' 24;
}
/* Efficient Blob Animations */
@keyframes blob-bounce {
  0% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(30px, -50px) scale(1.1); }
  66% { transform: translate(-20px, 20px) scale(0.9); }
  100% { transform: translate(0, 0) scale(1); }
}

@keyframes blob-spin {
  0% { transform: rotate(0deg) scale(1); }
  50% { transform: rotate(180deg) scale(1.1); }
  100% { transform: rotate(360deg) scale(1); }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.animate-blob-bounce {
  animation: blob-bounce 10s infinite ease-in-out;
  will-change: transform;
}

.animate-blob-spin {
  animation: blob-spin 20s infinite linear;
  will-change: transform;
}

.animate-shimmer {
  animation: shimmer 2s infinite;
}

/* Glassmorphism Utilities */
.glass-panel {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.dark .glass-panel {
  background: rgba(17, 24, 39, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.05);
}
